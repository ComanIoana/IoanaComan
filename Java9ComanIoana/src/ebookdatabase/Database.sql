/* 
 * SQL script of the created database
 */
/**
 * Author:  AJC
 */

CREATE TABLE BOOK_AUTHORS (
SSN VARCHAR(13) NOT NULL, 
FIRST_NAME VARCHAR(30) NOT NULL, 
SURNAME VARCHAR(30) NOT NULL, 
PRIMARY KEY (SSN)
);

CREATE TABLE BOOK_GENRES (
GENRE VARCHAR(25) NOT NULL, 
PRIMARY KEY (GENRE)
);

CREATE TABLE BOOK_PAPER_QUALITIES (
QUALITY VARCHAR(25) NOT NULL, 
PRIMARY KEY (QUALITY)
);

CREATE TABLE BOOK_TYPES (
"TYPE" VARCHAR(25) NOT NULL, 
PRIMARY KEY ("TYPE")
);

CREATE TABLE EBOOKS (
ISBN VARCHAR(18) NOT NULL, 
TITLE VARCHAR(50) NOT NULL, 
PAGES INTEGER NOT NULL, 
ID_TYPE VARCHAR(25) NOT NULL, 
ID_QUALITY VARCHAR(25) NOT NULL, 
ID_GENRE VARCHAR(25) NOT NULL, 
PRIMARY KEY (ISBN)
);

--Setting foreign keys for EBOOKS table
ALTER TABLE EBOOKS
ADD CONSTRAINT FK_TYPE FOREIGN KEY (ID_TYPE)
REFERENCES BOOK_TYPES ("TYPE");

ALTER TABLE EBOOKS
ADD CONSTRAINT FK_QUALITY FOREIGN KEY (ID_QUALITY)
REFERENCES BOOK_PAPER_QUALITIES (QUALITY);

ALTER TABLE EBOOKS
ADD CONSTRAINT FK_GENRE FOREIGN KEY (ID_GENRE)
REFERENCES BOOK_GENRES (GENRE);
--

CREATE TABLE EBOOKS_AUTHORS (
ID INTEGER NOT NULL, 
ID_ISBN VARCHAR(18) NOT NULL, 
ID_SSN VARCHAR(13) NOT NULL, 
PRIMARY KEY (ID)
);

--Setting foreign keys for EBOOKS_AUTHORS table
ALTER TABLE EBOOKS_AUTHORS
ADD CONSTRAINT FK_ISBN_AUTHOR FOREIGN KEY (ID_ISBN)
REFERENCES EBOOKS (ISBN);

ALTER TABLE EBOOKS_AUTHORS
ADD CONSTRAINT FK_SSN_AUTHOR FOREIGN KEY (ID_SSN)
REFERENCES AUTHORS (SSN);
--

CREATE TABLE USERS (
SSN VARCHAR(13) NOT NULL, 
PRIMARY KEY (SSN)
);

CREATE TABLE RATINGS (
RATING SMALLINT NOT NULL, 
PRIMARY KEY (RATING)
);

CREATE TABLE EBOOKS_RATINGS_USERS (
ID INTEGER NOT NULL, 
ID_RATING SMALLINT NOT NULL, 
ID_SSN VARCHAR(13) NOT NULL, 
ID_ISBN VARCHAR(18) NOT NULL, 
PRIMARY KEY (ID)
);

--Setting foreign keys for EBOOKS_RATINGS_USERS table
ALTER TABLE EBOOKS_RATINGS_USERS
ADD CONSTRAINT FK_ISBN_USER FOREIGN KEY (ID_ISBN)
REFERENCES EBOOKS (ISBN);

ALTER TABLE EBOOKS_RATINGS_USERS
ADD CONSTRAINT FK_RATING FOREIGN KEY (ID_RATING)
REFERENCES RATINGS (RATING);

ALTER TABLE EBOOKS_RATINGS_USERS
ADD CONSTRAINT FK_SSN_USER FOREIGN KEY (ID_SSN)
REFERENCES USERS (SSN);
--

--BOOK_AUTHORS TABLE DATA
INSERT INTO EBOOK.BOOK_AUTHORS (SSN, FIRST_NAME, SURNAME) 
	VALUES ('2415231216523', 'Jodi', 'Picoult');
INSERT INTO EBOOK.BOOK_AUTHORS (SSN, FIRST_NAME, SURNAME) 
	VALUES ('2654865293250', 'Oprah', 'Winfrey');
INSERT INTO EBOOK.BOOK_AUTHORS (SSN, FIRST_NAME, SURNAME) 
	VALUES ('1856945236584', 'Vitali', 'Cipileaga');
INSERT INTO EBOOK.BOOK_AUTHORS (SSN, FIRST_NAME, SURNAME) 
	VALUES ('1458952632457', 'Stephen', 'King');
INSERT INTO EBOOK.BOOK_AUTHORS (SSN, FIRST_NAME, SURNAME) 
	VALUES ('2485232956714', 'Jane', 'Austen');
INSERT INTO EBOOK.BOOK_AUTHORS (SSN, FIRST_NAME, SURNAME) 
	VALUES ('2589572136512', 'Leav', 'Lang');
INSERT INTO EBOOK.BOOK_AUTHORS (SSN, FIRST_NAME, SURNAME) 
	VALUES ('1574895652364', 'Sven', 'Hassel');
INSERT INTO EBOOK.BOOK_AUTHORS (SSN, FIRST_NAME, SURNAME) 
	VALUES ('1324572694321', 'Mihail', 'Drumes');
INSERT INTO EBOOK.BOOK_AUTHORS (SSN, FIRST_NAME, SURNAME) 
	VALUES ('2645897226154', 'Laura', 'Hillenbrand');
INSERT INTO EBOOK.BOOK_AUTHORS (SSN, FIRST_NAME, SURNAME) 
	VALUES ('2565485213645', 'Emily', 'Bronte');

--BOOK_GENRES TABLE DATA
INSERT INTO EBOOK.BOOK_GENRES (GENRE) 
	VALUES ('Classic Literature');
INSERT INTO EBOOK.BOOK_GENRES (GENRE) 
	VALUES ('Contemporary Literature');
INSERT INTO EBOOK.BOOK_GENRES (GENRE) 
	VALUES ('History');
INSERT INTO EBOOK.BOOK_GENRES (GENRE) 
	VALUES ('Personal Development');
INSERT INTO EBOOK.BOOK_GENRES (GENRE) 
	VALUES ('Poetry');

--BOOK_PAPER_QUALITIES TABLE DATA
INSERT INTO EBOOK.BOOK_PAPER_QUALITIES (QUALITY) 
	VALUES ('GOOD');
INSERT INTO EBOOK.BOOK_PAPER_QUALITIES (QUALITY) 
	VALUES ('HIGH');
INSERT INTO EBOOK.BOOK_PAPER_QUALITIES (QUALITY) 
	VALUES ('POOR');

--BOOK_TYPES TABLE DATA
INSERT INTO EBOOK.BOOK_TYPES ("TYPE") 
	VALUES ('EPUB');
INSERT INTO EBOOK.BOOK_TYPES ("TYPE") 
	VALUES ('PDF');

--EBOOKS TABLE DATA
INSERT INTO EBOOK.EBOOKS (ISBN, TITLE, PAGES, ID_TYPE, ID_QUALITY, ID_GENRE) 
	VALUES ('9780304366330', 'Wheels of Terror', 300, 'EPUB', 'GOOD', 'History');
INSERT INTO EBOOK.EBOOKS (ISBN, TITLE, PAGES, ID_TYPE, ID_QUALITY, ID_GENRE) 
	VALUES ('9780304366880', 'Comrades of War', 368, 'EPUB', 'GOOD', 'History');
INSERT INTO EBOOK.EBOOKS (ISBN, TITLE, PAGES, ID_TYPE, ID_QUALITY, ID_GENRE) 
	VALUES ('9781400064168', 'Unbroken', 473, 'EPUB', 'HIGH', 'History');
INSERT INTO EBOOK.EBOOKS (ISBN, TITLE, PAGES, ID_TYPE, ID_QUALITY, ID_GENRE) 
	VALUES ('9781449472399', 'Memories', 256, 'PDF', 'POOR', 'Poetry');
INSERT INTO EBOOK.EBOOKS (ISBN, TITLE, PAGES, ID_TYPE, ID_QUALITY, ID_GENRE) 
	VALUES ('9780393978896', 'Wuthering Heights', 464, 'EPUB', 'HIGH', 'Classic Literature');
INSERT INTO EBOOK.EBOOKS (ISBN, TITLE, PAGES, ID_TYPE, ID_QUALITY, ID_GENRE) 
	VALUES ('9780743454537', 'My Sister''s Keeper', 423, 'EPUB', 'HIGH', 'Contemporary Literature');
INSERT INTO EBOOK.EBOOKS (ISBN, TITLE, PAGES, ID_TYPE, ID_QUALITY, ID_GENRE) 
	VALUES ('9780679783268', 'Pride and Prejudice', 279, 'EPUB', 'HIGH', 'Classic Literature');
INSERT INTO EBOOK.EBOOKS (ISBN, TITLE, PAGES, ID_TYPE, ID_QUALITY, ID_GENRE) 
	VALUES ('9780450040184', 'The Shining', 447, 'PDF', 'POOR', 'Contemporary Literature');
INSERT INTO EBOOK.EBOOKS (ISBN, TITLE, PAGES, ID_TYPE, ID_QUALITY, ID_GENRE) 
	VALUES ('9737678583', 'Scrisoare de Dragoste', 333, 'PDF', 'POOR', 'Contemporary Literature');
INSERT INTO EBOOK.EBOOKS (ISBN, TITLE, PAGES, ID_TYPE, ID_QUALITY, ID_GENRE) 
	VALUES ('9785621452', 'Invitatie la Vals ', 240, 'PDF', 'POOR', 'Contemporary Literature');
INSERT INTO EBOOK.EBOOKS (ISBN, TITLE, PAGES, ID_TYPE, ID_QUALITY, ID_GENRE) 
	VALUES ('978-9975-30933-1-8', 'De Vorba cu Emma', 192, 'EPUB', 'HIGH', 'Personal Development');
INSERT INTO EBOOK.EBOOKS (ISBN, TITLE, PAGES, ID_TYPE, ID_QUALITY, ID_GENRE) 
	VALUES ('978-9975-4150-0', 'In Umbra Pasilor Tai', 250, 'EPUB', 'HIGH', 'Contemporary Literature');
INSERT INTO EBOOK.EBOOKS (ISBN, TITLE, PAGES, ID_TYPE, ID_QUALITY, ID_GENRE) 
	VALUES ('978-606-789-042-6', 'What I Know for Sure', 228, 'EPUB', 'GOOD', 'Personal Development');
INSERT INTO EBOOK.EBOOKS (ISBN, TITLE, PAGES, ID_TYPE, ID_QUALITY, ID_GENRE) 
	VALUES ('978-785-9605-3-0', 'Sense and Sensibility', 365, 'EPUB', 'HIGH', 'Classic Literature');

--EBOOKS_AUTHORS TABLE DATA
INSERT INTO EBOOK.EBOOKS_AUTHORS (ID, ID_ISBN, ID_SSN) 
	VALUES (1785075, '978-785-9605-3-0', '2485232956714');
INSERT INTO EBOOK.EBOOKS_AUTHORS (ID, ID_ISBN, ID_SSN) 
	VALUES (135268, '9780304366330', '1574895652364');
INSERT INTO EBOOK.EBOOKS_AUTHORS (ID, ID_ISBN, ID_SSN) 
	VALUES (1317589, '9780304366880', '1574895652364');
INSERT INTO EBOOK.EBOOKS_AUTHORS (ID, ID_ISBN, ID_SSN) 
	VALUES (117589, '9781400064168', '2645897226154');
INSERT INTO EBOOK.EBOOKS_AUTHORS (ID, ID_ISBN, ID_SSN) 
	VALUES (1589, '9781449472399', '2589572136512');
INSERT INTO EBOOK.EBOOKS_AUTHORS (ID, ID_ISBN, ID_SSN) 
	VALUES (1758589, '9780393978896', '2565485213645');
INSERT INTO EBOOK.EBOOKS_AUTHORS (ID, ID_ISBN, ID_SSN) 
	VALUES (45889, '9780743454537', '2415231216523');
INSERT INTO EBOOK.EBOOKS_AUTHORS (ID, ID_ISBN, ID_SSN) 
	VALUES (284889, '9780679783268', '2485232956714');
INSERT INTO EBOOK.EBOOKS_AUTHORS (ID, ID_ISBN, ID_SSN) 
	VALUES (27984889, '9780450040184', '1458952632457');
INSERT INTO EBOOK.EBOOKS_AUTHORS (ID, ID_ISBN, ID_SSN) 
	VALUES (142675, '9737678583', '1324572694321');
INSERT INTO EBOOK.EBOOKS_AUTHORS (ID, ID_ISBN, ID_SSN) 
	VALUES (142375, '9785621452', '1324572694321');
INSERT INTO EBOOK.EBOOKS_AUTHORS (ID, ID_ISBN, ID_SSN) 
	VALUES (237589, '978-9975-30933-1-8', '1856945236584');
INSERT INTO EBOOK.EBOOKS_AUTHORS (ID, ID_ISBN, ID_SSN) 
	VALUES (237598, '978-9975-4150-0', '1856945236584');
INSERT INTO EBOOK.EBOOKS_AUTHORS (ID, ID_ISBN, ID_SSN) 
	VALUES (86243, '978-606-789-042-6', '2654865293250');

--USERS TABLE DATA
INSERT INTO EBOOK.USERS (SSN) 
	VALUES ('1001212164758');
INSERT INTO EBOOK.USERS (SSN) 
	VALUES ('1770621052326');
INSERT INTO EBOOK.USERS (SSN) 
	VALUES ('1870115277976');
INSERT INTO EBOOK.USERS (SSN) 
	VALUES ('2950824287886');
INSERT INTO EBOOK.USERS (SSN) 
	VALUES ('2970416297256');

--RATINGS TABLE DATA
INSERT INTO EBOOK.RATINGS (RATING) 
	VALUES (1);
INSERT INTO EBOOK.RATINGS (RATING) 
	VALUES (2);
INSERT INTO EBOOK.RATINGS (RATING) 
	VALUES (3);
INSERT INTO EBOOK.RATINGS (RATING) 
	VALUES (4);
INSERT INTO EBOOK.RATINGS (RATING) 
	VALUES (5);

--EBOOKS_RATINGS_USERS TABLE DATA
INSERT INTO EBOOK.EBOOKS_RATINGS_USERS (ID, ID_RATING, ID_SSN, ID_ISBN) 
	VALUES (13486, 5, '2970416297256', '9780743454537');
INSERT INTO EBOOK.EBOOKS_RATINGS_USERS (ID, ID_RATING, ID_SSN, ID_ISBN) 
	VALUES (1364125, 3, '2950824287886', '9780304366880');
INSERT INTO EBOOK.EBOOKS_RATINGS_USERS (ID, ID_RATING, ID_SSN, ID_ISBN) 
	VALUES (15174, 4, '1870115277976', '9780450040184');
INSERT INTO EBOOK.EBOOKS_RATINGS_USERS (ID, ID_RATING, ID_SSN, ID_ISBN) 
	VALUES (127348, 4, '2950824287886', '9780743454537');
INSERT INTO EBOOK.EBOOKS_RATINGS_USERS (ID, ID_RATING, ID_SSN, ID_ISBN) 
	VALUES (6324, 5, '1001212164758', '9781400064168');
INSERT INTO EBOOK.EBOOKS_RATINGS_USERS (ID, ID_RATING, ID_SSN, ID_ISBN) 
	VALUES (75965, 2, '1770621052326', '9781449472399');